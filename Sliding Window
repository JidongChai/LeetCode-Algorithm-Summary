Sliding Window Related Questions

Q1: Count distinct elements in every window of size k
Description: Given an array of size n and an integer k, return the of count of distinct numbers in all windows of size k.
E.g., Input:  arr[] = {1, 2, 1, 3, 4, 2, 3};
              k = 4
Output:       (window)
3             1 2 1 3
4             2 1 3 4
4             1 3 4 2
3             3 4 2 3

http://www.geeksforgeeks.org/count-distinct-elements-in-every-window-of-size-k/

Brute force: count distinct elements in a window (O(n * k^2)), which can be improved to O(n * klogk) using sorting.
O(n): Using a map
    //Didn't test yet
    public int[] countDistinctElements(int[] nums, int k) {
        if (nums == null || nums.length < k) return -1;
        Map<Integer, Integer> map = new HashMap<>();
        int[] res = new int[nums.length - k + 1];
        int index = 0;
        for (int i = 0; i < k; i++) {
            map.put(nums[i], map.getOrDefault(nums[i], 0) + 1);
        }
        int count = map.size();     //count first window
        res[index++] = count;
        for (int i = k; i < nums.length; i++) {
            int old = nums[i - k];
            map.put(old, map.get(old) - 1);
            if (map.get(old) == 0) {
                map.remove(old);
                count--;
            }
            if (!map.containsKey(nums[i])) {
                count++;
                map.put(nums[i], 1);
            } else {
                map.put(nums[i], map.get(nums[i]) + 1);
            }
            res[index++] = count;
        }
        return res;
    }

//Lintcode
Q2: Sliding Window Unique Elements Sum
Given an array and a window size that is sliding along the array, find the sum of the count of unique elements in each window.
Given a array nums = [1, 2, 1, 3, 3] and k = 3

First window [1, 2, 1], only 2 is unique, count is 1.
Second window [2, 1, 3], all elements unique, count is 3.
Third window [1, 3, 3], only 1 is unique, count is 1.
sum of count = 1 + 3 + 1 = 5


Q3: sliding window maximum/minimum, Follow up: Stream

Q4: sliding window median
